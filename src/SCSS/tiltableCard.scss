@import 'mixin.scss';

.tiltable-card {
    border-radius: 10px;
    position: relative;
    display: inline-grid;
    grid-template: repeat(5, 1fr) / repeat(5, 1fr);
    margin-bottom: 1rem;
    width: min(350px, 100%);
    

    .content {
        position: relative;
        text-align: center;
        border-radius: inherit;
        grid-row: 1 / -1;
        grid-column: 1 / -1;
        transform-style: preserve-3d;
        transition: transform .2s ease-in-out;
        transform: perspective(1000px) rotateY(var(--rotateX)) rotateX(var(--rotateY));
        padding: .5rem 1rem;

        b {
            font-size: 1.1rem;
            padding-bottom: .5rem;
        }

        &::before {
            content: '';
            position: absolute;
            inset: -1rem;
            border-radius: inherit;
            //background-color: $white;
            background: linear-gradient(-45deg, #686868, currentColor, currentColor, #686868);
            transform: translateZ(-20px);
        }
    
        &::after {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: inherit;
            background-color: $white;
            transform: translateZ(-19px);
            filter: blur(5px);
            opacity: .8;
        }
    }
    
}

.light-card .content {
    background-color: $LIGHT;
    color: $DARK;
}

.dark-card .content {
    background-color: $DARK;
    color: $LIGHT
}


.tiltable-card > :not(div:last-child)  {
    z-index: 2;
}

.tiltable-card > div:nth-child(1) {
    grid-column: 1 / 2;
    grid-row: 1 / 2;
    inset: 0;
}
  
.tiltable-card > div:nth-child(2) {
    grid-column: 2 / 3;
    grid-row: 1 / 2;
    inset: 0;
}

.tiltable-card > div:nth-child(3) {
    grid-column: 3 / 4;
    grid-row: 1 / 2;
    inset: 0;
}

.tiltable-card > div:nth-child(4) {
    grid-column: 4 / 5;
    grid-row: 1 / 2;
    inset: 0;
}

.tiltable-card > div:nth-child(5) {
    grid-column: 5 / 6;
    grid-row: 1 / 2;
    inset: 0;
}

.tiltable-card > div:nth-child(6) {
    grid-column: 1/ 2;
    grid-row: 2 / 3;
    inset: 0;
}

.tiltable-card > div:nth-child(7) {
    grid-column: 2 / 3;
    grid-row: 2 / 3;
    inset: 0;
}

.tiltable-card > div:nth-child(8) {
    grid-column: 3 / 4;
    grid-row: 2 / 3;
    inset: 0;
}

.tiltable-card > div:nth-child(9) {
    grid-column: 4 / 5;
    grid-row: 2 / 3;
    inset: 0;
}

.tiltable-card > div:nth-child(10) {
    grid-column: 5 / 6;
    grid-row: 2 / 3;
    inset: 0;
}

.tiltable-card > div:nth-child(11) {
    grid-column: 1/ 2;
    grid-row: 3 / 4;
    inset: 0;
}

.tiltable-card > div:nth-child(12) {
    grid-column: 2 / 3;
    grid-row: 3 / 4;
    inset: 0;
}

.tiltable-card > div:nth-child(13) {
    grid-column: 3 / 4;
    grid-row: 3 / 4;
    inset: 0;
}

.tiltable-card > div:nth-child(14) {
    grid-column: 4 / 5;
    grid-row: 3 / 4;
    inset: 0;
}

.tiltable-card > div:nth-child(15) {
    grid-column: 5 / 6;
    grid-row: 3 / 4;
    inset: 0;
}

.tiltable-card > div:nth-child(16) {
    grid-column: 1 / 2;
    grid-row: 4 / 5;
    inset: 0;
}

.tiltable-card > div:nth-child(17) {
    grid-column: 2 / 3;
    grid-row: 4 / 5;
    inset: 0;
}

.tiltable-card > div:nth-child(18) {
    grid-column: 3 / 4;
    grid-row: 4 / 5;
    inset: 0;
}

.tiltable-card > div:nth-child(19) {
    grid-column: 4 / 5;
    grid-row: 4 / 5;
    inset: 0;
}

.tiltable-card > div:nth-child(20) {
    grid-column: 5 / 6;
    grid-row: 4 / 5;
    inset: 0;
}

.tiltable-card > div:nth-child(21) {
    grid-column: 1 / 2;
    grid-row: 5 / 6;
    inset: 0;
}

.tiltable-card > div:nth-child(22) {
    grid-column: 2 / 3;
    grid-row: 5 / 6;
    inset: 0;
}

.tiltable-card > div:nth-child(23) {
    grid-column: 3 / 4;
    grid-row: 5 / 6;
    inset: 0;
}

.tiltable-card > div:nth-child(24) {
    grid-column: 4 / 5;
    grid-row: 5 / 6;
    inset: 0;
}

.tiltable-card > div:nth-child(25) {
    grid-column: 5 / 6;
    grid-row: 5 / 6;
    inset: 0;
}

.tiltable-card > div:nth-child(1):hover ~ .content  {
    --rotateX: -25deg;
    --rotateY: 25deg;
}

.tiltable-card > div:nth-child(2):hover ~ .content  {
    --rotateX: -12.5deg;
    --rotateY: 25deg;
}

.tiltable-card > div:nth-child(3):hover ~ .content  {
    --rotateX: 0deg;
    --rotateY: 25deg;
}

.tiltable-card > div:nth-child(4):hover ~ .content  {
    --rotateX: 12.5deg;
    --rotateY: 25deg;
}

.tiltable-card > div:nth-child(5):hover ~ .content  {
    --rotateX: 25deg;
    --rotateY: 25deg;
}

.tiltable-card > div:nth-child(6):hover ~ .content  {
    --rotateX: -25deg;
    --rotateY: 12.5deg;
}

.tiltable-card > div:nth-child(7):hover ~ .content  {
    --rotateX: -12.5deg;
    --rotateY: 12.5deg;
}

.tiltable-card > div:nth-child(8):hover ~ .content  {
    --rotateX: 0deg;
    --rotateY: 12.5deg;
}

.tiltable-card > div:nth-child(9):hover ~ .content  {
    --rotateX: 12.5deg;
    --rotateY: 12.5deg;
}

.tiltable-card > div:nth-child(10):hover ~ .content  {
    --rotateX: 25deg;
    --rotateY: 12.5deg;
}

.tiltable-card > div:nth-child(11):hover ~ .content  {
    --rotateX: -25deg;
    --rotateY: 0deg;
}

.tiltable-card > div:nth-child(12):hover ~ .content  {
    --rotateX: -12.5deg;
    --rotateY: 0deg;
}

.tiltable-card > div:nth-child(13):hover ~ .content  {
    --rotateX: 0deg;
    --rotateY: 0deg;
}

.tiltable-card > div:nth-child(14):hover ~ .content  {
    --rotateX: 12.5deg;
    --rotateY: 0deg;
}

.tiltable-card > div:nth-child(15):hover ~ .content  {
    --rotateX: 25deg;
    --rotateY: 0deg;
}

.tiltable-card > div:nth-child(16):hover ~ .content  {
    --rotateX: -25deg;
    --rotateY: -12.5deg;
}

.tiltable-card > div:nth-child(17):hover ~ .content  {
    --rotateX: -12.5deg;
    --rotateY: -12.5deg;
}

.tiltable-card > div:nth-child(18):hover ~ .content  {
    --rotateX: 0deg;
    --rotateY: -12.5deg;
}

.tiltable-card > div:nth-child(19):hover ~ .content  {
    --rotateX: 12.5deg;
    --rotateY: -12.5deg;
}

.tiltable-card > div:nth-child(20):hover ~ .content  {
    --rotateX: 25deg;
    --rotateY: -12.5deg;
}

.tiltable-card > div:nth-child(21):hover ~ .content  {
    --rotateX: -25deg;
    --rotateY: -25deg;
}

.tiltable-card > div:nth-child(22):hover ~ .content  {
    --rotateX: -12.5deg;
    --rotateY: -25deg;
}

.tiltable-card > div:nth-child(23):hover ~ .content  {
    --rotateX: 0deg;
    --rotateY: -25deg;
}

.tiltable-card > div:nth-child(24):hover ~ .content  {
    --rotateX: 12.5deg;
    --rotateY: -25deg;
}

.tiltable-card > div:nth-child(25):hover ~ .content  {
    --rotateX: 25deg;
    --rotateY: -25deg;
}


//targets safari hopefully
@supports (-webkit-appearance: none) {
    .tiltable-card .content {
        &::before {
            z-index: -2;
        }

        &::after {
            z-index: -1;
            opacity: 1;
            //filter: unset;
        }
    }
}